/**
 * angular2-google-maps - Angular2 components for Google Maps
 * @version v0.8.1
 * @link https://github.com/SebastianM/angular2-google-maps#readme
 * @license MIT
 */
{"version":3,"sources":["directives/google-map.ts"],"names":[],"mappings":"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","file":"directives/google-map.js","sourcesContent":["import {Component, ElementRef, EventEmitter, OnChanges, OnInit, SimpleChange} from 'angular2/core';\nimport {GoogleMapsAPIWrapper} from '../services/google-maps-api-wrapper';\nimport {MarkerManager} from '../services/marker-manager';\nimport {LatLng} from '../services/google-maps-types';\nimport {MouseEvent} from '../events';\n\n/**\n * SebMGoogleMap renders a Google Map.\n * **Important note**: To be able see a map in the browser, you have to define a height for the CSS\n * class `sebm-google-map-container`.\n *\n * ### Example\n * ```typescript\n * import {Component} from 'angular2/core';\n * import {SebmGoogleMap} from 'angular2-google-maps/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  directives: [SebmGoogleMap],\n *  styles: [`\n *    .sebm-google-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <sebm-google-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *    </sebm-google-map>\n *  `\n * })\n * ```\n */\n@Component({\n  selector: 'sebm-google-map',\n  providers: [GoogleMapsAPIWrapper, MarkerManager],\n  inputs: ['longitude', 'latitude', 'zoom', 'disableDoubleClickZoom', 'disableDefaultUI'],\n  outputs: ['mapClick', 'mapRightClick', 'mapDblClick'],\n  host: {'[class.sebm-google-map-container]': 'true'},\n  styles: [`\n    .sebm-google-map-container-inner {\n      width: inherit;\n      height: inherit;\n    }\n  `],\n  template: `\n    <div class=\"sebm-google-map-container-inner\"></div>\n    <ng-content></ng-content>\n  `\n})\nexport class SebmGoogleMap implements OnChanges,\n    OnInit {\n  private _longitude: number = 0;\n  private _latitude: number = 0;\n  private _zoom: number = 8;\n  /**\n   * Enables/disables zoom and center on double click. Enabled by default.\n   */\n  disableDoubleClickZoom: boolean = false;\n\n  /**\n   * Enables/disables all default UI of the Google map. Please note: When the map is created, this\n   * value cannot get updated.\n   */\n  disableDefaultUI: boolean = false;\n\n  /**\n   * Map option attributes that can change over time\n   */\n  private static _mapOptionsAttributes: string[] = ['disableDoubleClickZoom'];\n\n  /**\n   * This event emitter gets emitted when the user clicks on the map (but not when they click on a\n   * marker or infoWindow).\n   */\n  mapClick: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n\n  /**\n   * This event emitter gets emitted when the user right-clicks on the map (but not when they click\n   * on a marker or infoWindow).\n   */\n  mapRightClick: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n\n  /**\n   * This event emitter gets emitted when the user double-clicks on the map (but not when they click\n   * on a marker or infoWindow).\n   */\n  mapDblClick: EventEmitter<MouseEvent> = new EventEmitter<MouseEvent>();\n\n  constructor(private _elem: ElementRef, private _mapsWrapper: GoogleMapsAPIWrapper) {}\n\n  /** @internal */\n  ngOnInit() {\n    const container = this._elem.nativeElement.querySelector('.sebm-google-map-container-inner');\n    this._initMapInstance(container);\n  }\n\n  private _initMapInstance(el: HTMLElement) {\n    this._mapsWrapper.createMap(el, {\n      center: {lat: this._latitude, lng: this._longitude},\n      zoom: this._zoom,\n      disableDefaultUI: this.disableDefaultUI\n    });\n    this._handleMapCenterChange();\n    this._handleMapZoomChange();\n    this._handleMapMouseEvents();\n  }\n\n  private static _containsMapOptionsChange(changesKeys: string[]): boolean {\n    return changesKeys.every(\n        (key: string) => { return SebmGoogleMap._mapOptionsAttributes.indexOf(key) !== 1; });\n  }\n\n  /** @internal */\n  ngOnChanges(changes: {[propName: string]: SimpleChange}) {\n    if (SebmGoogleMap._containsMapOptionsChange(Object.keys(changes))) {\n      this._mapsWrapper.setMapOptions({disableDoubleClickZoom: this.disableDoubleClickZoom});\n    }\n  }\n\n  /**\n   * Sets the zoom level of the map. The default value is `8`.\n   */\n  set zoom(value: number | string) {\n    this._zoom = this._convertToDecimal(value, 8);\n    if (typeof this._zoom === 'number') {\n      this._mapsWrapper.setZoom(this._zoom);\n    }\n  }\n\n  /**\n   * The longitude that sets the center of the map.\n   */\n  set longitude(value: number | string) {\n    this._longitude = this._convertToDecimal(value);\n    this._updateCenter();\n  }\n\n  /**\n   * The latitude that sets the center of the map.\n   */\n  set latitude(value: number | string) {\n    this._latitude = this._convertToDecimal(value);\n    this._updateCenter();\n  }\n\n  private _convertToDecimal(value: string | number, defaultValue: number = null): number {\n    if (typeof value === 'string') {\n      return parseFloat(value);\n    } else if (typeof value === 'number') {\n      return <number>value;\n    }\n    return defaultValue;\n  }\n\n  private _updateCenter() {\n    if (typeof this._latitude !== 'number' || typeof this._longitude !== 'number') {\n      return;\n    }\n    this._mapsWrapper.setCenter({\n      lat: this._latitude,\n      lng: this._longitude,\n    });\n  }\n\n  private _handleMapCenterChange() {\n    this._mapsWrapper.subscribeToMapEvent<void>('center_changed').subscribe(() => {\n      this._mapsWrapper.getCenter().then((center: LatLng) => {\n        this._latitude = center.lat();\n        this._longitude = center.lng();\n      });\n    });\n  }\n\n  private _handleMapZoomChange() {\n    this._mapsWrapper.subscribeToMapEvent<void>('zoom_changed').subscribe(() => {\n      this._mapsWrapper.getZoom().then((z: number) => this._zoom = z);\n    });\n  }\n\n  private _handleMapMouseEvents() {\n    interface Emitter {\n      emit(value: any): void;\n    }\n    type Event = {name: string, emitter: Emitter};\n\n    const events: Event[] = [\n      {name: 'click', emitter: this.mapClick}, {name: 'rightclick', emitter: this.mapRightClick},\n      {name: 'dblclick', emitter: this.mapDblClick}\n    ];\n\n    events.forEach((e: Event) => {\n      this._mapsWrapper.subscribeToMapEvent<{latLng: LatLng}>(e.name).subscribe(\n          (event: {latLng: LatLng}) => {\n            const value = <MouseEvent>{coords: {lat: event.latLng.lat(), lng: event.latLng.lng()}};\n            e.emitter.emit(value);\n          });\n    });\n  }\n}\n"],"sourceRoot":"/source/"}